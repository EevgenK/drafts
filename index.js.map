{"version":3,"file":"index.js","sources":["../src/helpers/api.js","../src/helpers/debaunce.js","../src/helpers/render-fuctions.js","../src/helpers/modal.js"],"sourcesContent":["const options = {\n  method: 'POST',\n  headers: {\n    'Content-Type': 'application/json',\n    // accept: 'application',\n  },\n};\nexport const createContact = async post => {\n  options.body = JSON.stringify(post);\n  try {\n    const response = await fetch(\n      'https:portfolio-js.b.goit.study/api/requests',\n      options\n    );\n    if (!response.ok) throw new Error(response.status);\n    return response.json();\n  } catch (error) {\n    console.log(error);\n    throw error;\n  }\n};\n","export const debounce = (func, delay) => {\n  let timeout;\n  return function (...args) {\n    clearTimeout(timeout);\n    timeout = setTimeout(() => func.apply(this, args), delay);\n  };\n};\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst errorMessege = str =>\n  iziToast.warning({\n    message: str,\n    position: 'topRight',\n    backgroundColor: '#e74a3b',\n    messageColor: '#FAFAFB',\n    messageLineHeight: '24px',\n    maxWidth: '310px',\n    theme: 'dark',\n  });\n\nconst createModal = (element, title, message) => {\n  const markup = `\n  <div class=\"modal\">\n    <button class=\"modal-btn-close\" data-modal-close>\n      <svg class=\"modal-close\" width=\"24\" height=\"24\">\n        <use href=\"../img/icons-sprite.svg#close-modal\"></use>\n      </svg>\n    </button>\n    <h3 class=\"modal-title\">${title}</h3>\n    <p class=\"modal-text\">\n      ${message}\n    </p>\n  </div>`;\n  element.innerHTML = markup;\n};\n\nexport { errorMessege, createModal };\n","import { createContact } from './api';\nimport { debounce } from './debaunce';\nimport { createModal, errorMessege } from './render-fuctions';\nconst refs = {\n  contactForm: document.querySelector('.contact-form'),\n  backDrop: document.querySelector('.backdrop'),\n  errorMessage: document.querySelector('.notvalid'),\n};\n\nconst toggleModal = () => refs.backDrop.classList.toggle('is-hidden');\nconst createModalFunctions = () => {\n  const closeModalBtn = document.querySelector('[data-modal-close]');\n  toggleModal();\n  const closeModal = e => {\n    if (e.code === 'Escape' || e.currentTarget === e.target) {\n      toggleModal();\n      window.removeEventListener('keydown', closeModal);\n    }\n  };\n\n  window.addEventListener('keydown', closeModal);\n  refs.backDrop.addEventListener('click', closeModal);\n  closeModalBtn.addEventListener('click', toggleModal);\n};\n\nconst onSbmit = e => {\n  e.preventDefault();\n  const {\n    email: { value: email },\n    comment: { value: comment },\n  } = e.target;\n\n  createContact({ email, comment })\n    .then(({ title, message }) => {\n      createModal(refs.backDrop, title, message);\n      createModalFunctions();\n      e.target.reset();\n    })\n    .catch(error => {\n      errorMessege(\n        `Error: â„– ${error.message}. Please verify the information you provided and try again `\n      );\n    });\n};\n\nconst chekValidity = debounce(e => {\n  const { valid } = e.target.validity;\n  if (!valid) {\n    refs.errorMessage.classList.remove('is-hidden');\n    e.target.classList.add('notvalid');\n  } else {\n    refs.errorMessage.classList.add('is-hidden');\n    e.target.classList.remove('notvalid');\n  }\n}, 2000);\n\nrefs.contactForm.email.addEventListener('input', chekValidity);\nrefs.contactForm.addEventListener('submit', onSbmit);\n"],"names":["options","createContact","post","response","error","debounce","func","delay","timeout","args","errorMessege","str","iziToast","createModal","element","title","message","markup","refs","toggleModal","createModalFunctions","closeModalBtn","closeModal","e","onSbmit","email","comment","chekValidity","valid"],"mappings":"svBAAA,MAAMA,EAAU,CACd,OAAQ,OACR,QAAS,CACP,eAAgB,kBAEjB,CACH,EACaC,EAAgB,MAAMC,GAAQ,CACzCF,EAAQ,KAAO,KAAK,UAAUE,CAAI,EAClC,GAAI,CACF,MAAMC,EAAW,MAAM,MACrB,+CACAH,CACN,EACI,GAAI,CAACG,EAAS,GAAI,MAAM,IAAI,MAAMA,EAAS,MAAM,EACjD,OAAOA,EAAS,MACjB,OAAQC,EAAO,CACd,cAAQ,IAAIA,CAAK,EACXA,CACP,CACH,ECpBaC,EAAW,CAACC,EAAMC,IAAU,CACvC,IAAIC,EACJ,OAAO,YAAaC,EAAM,CACxB,aAAaD,CAAO,EACpBA,EAAU,WAAW,IAAMF,EAAK,MAAM,KAAMG,CAAI,EAAGF,CAAK,CAC5D,CACA,ECHMG,EAAeC,GACnBC,EAAS,QAAQ,CACf,QAASD,EACT,SAAU,WACV,gBAAiB,UACjB,aAAc,UACd,kBAAmB,OACnB,SAAU,QACV,MAAO,MACX,CAAG,EAEGE,EAAc,CAACC,EAASC,EAAOC,IAAY,CAC/C,MAAMC,EAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BAOaF,CAAK;AAAA;AAAA,QAE3BC,CAAO;AAAA;AAAA,UAGbF,EAAQ,UAAYG,CACtB,ECzBMC,EAAO,CACX,YAAa,SAAS,cAAc,eAAe,EACnD,SAAU,SAAS,cAAc,WAAW,EAC5C,aAAc,SAAS,cAAc,WAAW,CAClD,EAEMC,EAAc,IAAMD,EAAK,SAAS,UAAU,OAAO,WAAW,EAC9DE,EAAuB,IAAM,CACjC,MAAMC,EAAgB,SAAS,cAAc,oBAAoB,EACjEF,IACA,MAAMG,EAAaC,GAAK,EAClBA,EAAE,OAAS,UAAYA,EAAE,gBAAkBA,EAAE,UAC/CJ,IACA,OAAO,oBAAoB,UAAWG,CAAU,EAEtD,EAEE,OAAO,iBAAiB,UAAWA,CAAU,EAC7CJ,EAAK,SAAS,iBAAiB,QAASI,CAAU,EAClDD,EAAc,iBAAiB,QAASF,CAAW,CACrD,EAEMK,EAAUD,GAAK,CACnBA,EAAE,eAAc,EAChB,KAAM,CACJ,MAAO,CAAE,MAAOE,CAAO,EACvB,QAAS,CAAE,MAAOC,CAAS,CAC/B,EAAMH,EAAE,OAENtB,EAAc,CAAE,MAAAwB,EAAO,QAAAC,EAAS,EAC7B,KAAK,CAAC,CAAE,MAAAX,EAAO,QAAAC,KAAc,CAC5BH,EAAYK,EAAK,SAAUH,EAAOC,CAAO,EACzCI,IACAG,EAAE,OAAO,OACf,CAAK,EACA,MAAMnB,GAAS,CACdM,EACE,YAAYN,EAAM,OAAO,6DACjC,CACA,CAAK,CACL,EAEMuB,EAAetB,EAASkB,GAAK,CACjC,KAAM,CAAE,MAAAK,CAAO,EAAGL,EAAE,OAAO,SACtBK,GAIHV,EAAK,aAAa,UAAU,IAAI,WAAW,EAC3CK,EAAE,OAAO,UAAU,OAAO,UAAU,IAJpCL,EAAK,aAAa,UAAU,OAAO,WAAW,EAC9CK,EAAE,OAAO,UAAU,IAAI,UAAU,EAKrC,EAAG,GAAI,EAEPL,EAAK,YAAY,MAAM,iBAAiB,QAASS,CAAY,EAC7DT,EAAK,YAAY,iBAAiB,SAAUM,CAAO"}